# 핵심 요약

🧩 STT (Speech-To-Text)

설명: 사람이 말한 음성을 텍스트로 변환하는 기술

모델: whisper-1

Spring AI 클래스: OpenAiAudioTranscriptionModel

옵션 예시:

```java
model("whisper-1")
language("ko") (한국어 지정 시 인식률 향상)
```

주의사항

Spring AI 1.0.3 이상 버전에서는 fileName과 bytes를 반드시 함께 전달해야 함

ByteArrayResource를 생성할 때 getFilename()을 오버라이드해서 이름을 지정해야 오류가 발생하지 않음

🗣️ TTS (Text-To-Speech)

설명: 텍스트 문장을 자연스러운 음성으로 변환하는 기술

모델: gpt-4o-mini-tts

Spring AI 클래스: OpenAiAudioSpeechModel

기본 응답 포맷: MP3 

옵션 예시:

```java
model("gpt-4o-mini-tts")
voice(SpeechRequest.Voice.ECHO)
responseFormat(MP3)
speed(1.0f)
```

⚙️ Spring AI 구성 및 주입 방식

두 모델 주입 방식

@Autowired를 이용한 필드 주입

생성자 기반 의존성 주입(Constructor Injection)
둘 다 가능하지만, 스프링 권장 방식은 생성자 주입

🔄 응답 구조 및 웹 재생

Spring AI의 TTS 응답은 기본적으로 MP3 바이트 배열 형태

컨트롤러 설정

  produces = MediaType.APPLICATION_JSON_VALUE

  Map<String, String> 형태로 반환

  "text": LLM 텍스트 응답

  "audio": Base64 인코딩된 음성 데이터

